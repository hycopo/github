<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚®ã‚¿ãƒ¼ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ»ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: A single-page, three-step interactive tool. Step 1: User selects multiple music genres from a grid. Step 2: User chooses the desired number of guitars via a slider. Step 3: A results area dynamically displays the recommended guitar collection. This sequential, task-oriented flow is intuitive and guides the user directly from input to output, making the complex recommendation logic feel simple and immediate. -->
    <!-- Visualization & Content Choices: Report Info (User's desired genres/collection size) -> Goal (Provide a versatile guitar recommendation) -> Presentation Method (Dynamically generated HTML cards with guitar name, icon, and justification text) -> Interaction (Clicking genres and moving the slider instantly updates the recommendation cards) -> Justification (This provides immediate feedback and allows for easy exploration of different combinations without page reloads. The textual justification explains the 'why' behind the recommendation, which is key for user trust and understanding.) -> Library/Method (Vanilla JS for DOM manipulation and logic. No charting libraries needed as the output is qualitative.) -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Hiragino Kaku Gothic ProN', 'ãƒ¡ã‚¤ãƒªã‚ª', Meiryo, sans-serif;
            background-color: #FDFBF8;
            color: #4A4A4A;
        }
        .step-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #8B4513;
            border-bottom: 2px solid #D2B48C;
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }
        .genre-btn, .guitar-count-btn {
            transition: all 0.2s ease-in-out;
            border: 2px solid #D2B48C;
        }
        .genre-btn:hover, .guitar-count-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .genre-btn.selected, .guitar-count-btn.selected {
            background-color: #8B4513;
            color: white;
            border-color: #8B4513;
        }
        .result-card {
            background-color: white;
            border: 1px solid #EAEAEA;
            border-left: 5px solid #8B4513;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .result-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        #recommendation-area {
            transition: opacity 0.5s ease-in-out;
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto p-4 md:p-8 max-w-5xl">

        <header class="text-center mb-8 md:mb-12">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-2">ã‚®ã‚¿ãƒ¼ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ»ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼</h1>
            <p class="text-md text-gray-600">ã‚ãªãŸã®éŸ³æ¥½ã‚¹ã‚¿ã‚¤ãƒ«ã«æœ€é©ãªã‚®ã‚¿ãƒ¼ã®çµ„ã¿åˆã‚ã›ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†ã€‚</p>
        </header>

        <main class="space-y-8 md:space-y-12">
            <!-- Step 1: ã‚¸ãƒ£ãƒ³ãƒ«é¸æŠ -->
            <section>
                <h2 class="step-title">STEP 1: æ¼”å¥ã—ãŸã„éŸ³æ¥½ã‚¸ãƒ£ãƒ³ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„ (è¤‡æ•°é¸æŠå¯)</h2>
                <div id="genre-selector" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 md:gap-4">
                </div>
            </section>

            <!-- Step 2: æœ¬æ•°é¸æŠ -->
            <section>
                <h2 class="step-title">STEP 2: æ‰€æœ‰ã—ãŸã„ã‚®ã‚¿ãƒ¼ã®æœ¬æ•°ã‚’é¸æŠã—ã¦ãã ã•ã„</h2>
                <div id="guitar-count-selector" class="flex flex-wrap justify-center gap-3 md:gap-4">
                </div>
            </section>

            <!-- Step 3: çµæœè¡¨ç¤º -->
            <section class="bg-stone-100 p-4 md:p-6 rounded-lg shadow-inner">
                <h2 class="step-title">STEP 3: ã‚ãªãŸã¸ã®ãŠã™ã™ã‚æ§‹æˆ</h2>
                <div id="recommendation-area" class="space-y-4 min-h-[200px] flex flex-col justify-center items-center">
                    <p id="initial-message" class="text-gray-500 text-center">ã‚¸ãƒ£ãƒ³ãƒ«ã¨æœ¬æ•°ã‚’é¸æŠã™ã‚‹ã¨ã€ã“ã“ã«çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
                </div>
            </section>
        </main>

        <footer class="text-center mt-12 text-sm text-gray-500">
            <p>&copy; 2025 ã‚®ã‚¿ãƒ¼ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ»ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼. All Rights Reserved.</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const genres = [
                { id: 'rock', name: 'ãƒ­ãƒƒã‚¯' },
                { id: 'blues', name: 'ãƒ–ãƒ«ãƒ¼ã‚¹' },
                { id: 'metal', name: 'ãƒ¡ã‚¿ãƒ«' },
                { id: 'jazz', name: 'ã‚¸ãƒ£ã‚º' },
                { id: 'funk', name: 'ãƒ•ã‚¡ãƒ³ã‚¯' },
                { id: 'pop', name: 'ãƒãƒƒãƒ—ã‚¹' },
                { id: 'country', name: 'ã‚«ãƒ³ãƒˆãƒªãƒ¼' },
                { id: 'acoustic', name: 'ã‚¢ã‚³ãƒ¼ã‚¹ãƒ†ã‚£ãƒƒã‚¯' },
                { id: 'classical', name: 'ã‚¯ãƒ©ã‚·ãƒƒã‚¯' },
                { id: 'fusion', name: 'ãƒ•ãƒ¥ãƒ¼ã‚¸ãƒ§ãƒ³' }
            ];

            const guitars = {
                strat: { 
                    name: 'ã‚¹ãƒˆãƒ©ãƒˆã‚­ãƒ£ã‚¹ã‚¿ãƒ¼ã‚¿ã‚¤ãƒ—', 
                    icon: 'ğŸ¸',
                    description: 'éå¸¸ã«æ±ç”¨æ€§ãŒé«˜ãã€ã‚¯ãƒªãƒ¼ãƒ³ã‹ã‚‰ã‚¯ãƒ©ãƒ³ãƒã¾ã§å¹…åºƒã„éŸ³ä½œã‚ŠãŒå¯èƒ½ã§ã™ã€‚ç‰¹ã«ã‚«ãƒƒãƒ†ã‚£ãƒ³ã‚°ã‚„ç¹Šç´°ãªè¡¨ç¾ãŒå¾—æ„ã§ã™ã€‚',
                    genres: ['rock', 'blues', 'funk', 'pop', 'fusion'] 
                },
                tele: { 
                    name: 'ãƒ†ãƒ¬ã‚­ãƒ£ã‚¹ã‚¿ãƒ¼ã‚¿ã‚¤ãƒ—',
                    icon: 'ğŸ¸',
                    description: 'æ­¯åˆ‡ã‚Œã®è‰¯ã„é«˜éŸ³åŸŸãŒç‰¹å¾´ã§ã€ãƒãƒƒã‚­ãƒ³ã‚°ã‹ã‚‰ãƒªãƒ¼ãƒ‰ã¾ã§ã“ãªã—ã¾ã™ã€‚ã‚·ãƒ³ãƒ—ãƒ«ãªãŒã‚‰ã‚‚è¡¨ç¾åŠ›è±Šã‹ãªã‚®ã‚¿ãƒ¼ã§ã™ã€‚',
                    genres: ['rock', 'blues', 'pop', 'country'] 
                },
                lespaul: { 
                    name: 'ãƒ¬ã‚¹ãƒãƒ¼ãƒ«ã‚¿ã‚¤ãƒ—',
                    icon: 'ğŸ¸',
                    description: 'å¤ªããƒ‘ãƒ¯ãƒ•ãƒ«ãªãƒãƒ ãƒãƒƒã‚«ãƒ¼ã‚µã‚¦ãƒ³ãƒ‰ãŒé­…åŠ›ã€‚ã‚µã‚¹ãƒ†ã‚¤ãƒ³ãŒè±Šã‹ã§ã€é‡åšãªãƒ­ãƒƒã‚¯ã‚„æ³£ãã®ãƒªãƒ¼ãƒ‰ãƒ—ãƒ¬ã‚¤ã«æœ€é©ã§ã™ã€‚',
                    genres: ['rock', 'blues', 'metal', 'jazz'] 
                },
                semiaco: {
                    name: 'ã‚»ãƒŸã‚¢ã‚³ãƒ¼ã‚¹ãƒ†ã‚£ãƒƒã‚¯ã‚¿ã‚¤ãƒ—',
                    icon: 'ğŸ»',
                    description: 'ç”˜ããƒ¡ãƒ­ã‚¦ãªãƒˆãƒ¼ãƒ³ãŒç‰¹å¾´ã€‚ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã«ã‚‚å¼·ãã€ã‚¸ãƒ£ã‚ºã‚„ãƒ–ãƒ«ãƒ¼ã‚¹ã€æ­Œã‚‚ã®ã®ãƒãƒƒã‚­ãƒ³ã‚°ã«çµ¶å¤§ãªäººæ°—ã‚’èª‡ã‚Šã¾ã™ã€‚',
                    genres: ['jazz', 'blues', 'fusion', 'rock'] 
                },
                acoustic_dread: { 
                    name: 'ã‚¢ã‚³ãƒ¼ã‚¹ãƒ†ã‚£ãƒƒã‚¯ã‚®ã‚¿ãƒ¼ (ãƒ‰ãƒ¬ãƒƒãƒ‰ãƒãƒ¼ãƒˆ)',
                    icon: 'ğŸ¤',
                    description: 'ãƒ‘ãƒ¯ãƒ•ãƒ«ãªã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ã‚µã‚¦ãƒ³ãƒ‰ãŒæŒã¡å‘³ã€‚å¼¾ãèªã‚Šã‚„ãƒãƒ³ãƒ‰ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«ã§ã®ã‚¢ã‚³ãƒ¼ã‚¹ãƒ†ã‚£ãƒƒã‚¯ãƒ‘ãƒ¼ãƒˆã®å®šç•ªã§ã™ã€‚',
                    genres: ['acoustic', 'pop', 'country', 'rock'] 
                },
                extended_range: {
                    name: '7å¼¦/8å¼¦ã‚®ã‚¿ãƒ¼',
                    icon: 'ğŸ¤˜',
                    description: 'é€šå¸¸ã‚ˆã‚Šå¤šã„å¼¦ã§é‡ä½éŸ³ã‚’ã‚«ãƒãƒ¼ã€‚ç¾ä»£çš„ãªãƒ¡ã‚¿ãƒ«ã‚„ã‚¸ã‚§ãƒ³ãƒˆãªã©ã€ãƒ˜ãƒ´ã‚£ãªéŸ³æ¥½ã‚¸ãƒ£ãƒ³ãƒ«ã§æ´»èºã—ã¾ã™ã€‚',
                    genres: ['metal', 'fusion']
                },
                classical: {
                    name: 'ã‚¯ãƒ©ã‚·ãƒƒã‚¯ã‚®ã‚¿ãƒ¼',
                    icon: 'ğŸ¼',
                    description: 'æŸ”ã‚‰ã‹ãæš–ã‹ã¿ã®ã‚ã‚‹ãƒŠã‚¤ãƒ­ãƒ³å¼¦ã®ã‚µã‚¦ãƒ³ãƒ‰ã€‚ã‚¯ãƒ©ã‚·ãƒƒã‚¯éŸ³æ¥½ã¯ã‚‚ã¡ã‚ã‚“ã€ãƒœã‚µãƒãƒ´ã‚¡ã‚„ãƒãƒƒãƒ—ã‚¹ã§ã‚‚ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚',
                    genres: ['classical']
                }
            };
            
            let selectedGenres = [];
            let selectedCount = 1;

            const genreSelector = document.getElementById('genre-selector');
            const guitarCountSelector = document.getElementById('guitar-count-selector');
            const recommendationArea = document.getElementById('recommendation-area');
            const initialMessage = document.getElementById('initial-message');

            function initializeUI() {
                genres.forEach(genre => {
                    const button = document.createElement('button');
                    button.classList.add('genre-btn', 'w-full', 'py-2', 'px-4', 'rounded-lg', 'font-semibold', 'bg-white', 'shadow-sm');
                    button.textContent = genre.name;
                    button.dataset.genreId = genre.id;
                    button.addEventListener('click', () => toggleGenre(genre.id, button));
                    genreSelector.appendChild(button);
                });

                for (let i = 1; i <= 5; i++) {
                    const button = document.createElement('button');
                    button.classList.add('guitar-count-btn', 'py-2', 'px-5', 'rounded-lg', 'font-semibold', 'bg-white', 'shadow-sm');
                    button.textContent = `${i}æœ¬`;
                    button.dataset.count = i;
                    if (i === 1) button.classList.add('selected');
                    button.addEventListener('click', () => selectCount(i, button));
                    guitarCountSelector.appendChild(button);
                }
            }

            function toggleGenre(genreId, button) {
                button.classList.toggle('selected');
                const index = selectedGenres.indexOf(genreId);
                if (index > -1) {
                    selectedGenres.splice(index, 1);
                } else {
                    selectedGenres.push(genreId);
                }
                updateRecommendation();
            }

            function selectCount(count, button) {
                selectedCount = count;
                document.querySelectorAll('.guitar-count-btn').forEach(btn => btn.classList.remove('selected'));
                button.classList.add('selected');
                updateRecommendation();
            }

            function updateRecommendation() {
                recommendationArea.style.opacity = '0';

                setTimeout(() => {
                    if (selectedGenres.length === 0) {
                        recommendationArea.innerHTML = '';
                        initialMessage.textContent = 'ã¾ãšã€æ¼”å¥ã—ãŸã„ã‚¸ãƒ£ãƒ³ãƒ«ã‚’1ã¤ä»¥ä¸Šé¸æŠã—ã¦ãã ã•ã„ã€‚';
                        recommendationArea.appendChild(initialMessage);
                        recommendationArea.style.opacity = '1';
                        return;
                    }
                    
                    initialMessage.style.display = 'none';
                    recommendationArea.innerHTML = '';

                    const scores = Object.keys(guitars).map(key => {
                        const guitar = guitars[key];
                        const score = guitar.genres.reduce((acc, genre) => {
                            return acc + (selectedGenres.includes(genre) ? 1 : 0);
                        }, 0);
                        const versatility = guitar.genres.length;
                        return { id: key, score, versatility, ...guitar };
                    });

                    scores.sort((a, b) => {
                        if (b.score !== a.score) {
                            return b.score - a.score;
                        }
                        return b.versatility - a.versatility;
                    });
                    
                    const recommended = scores.slice(0, selectedCount);

                    if (recommended.length > 0 && recommended[0].score > 0) {
                        recommended.forEach(rec => {
                            const matchedGenres = rec.genres.filter(g => selectedGenres.includes(g));
                            const matchedGenreNames = matchedGenres.map(gid => genres.find(g => g.id === gid).name);
                            
                            const card = document.createElement('div');
                            card.classList.add('result-card', 'p-4', 'rounded-lg', 'shadow-md', 'w-full');
                            card.innerHTML = `
                                <div class="flex items-start space-x-4">
                                    <div class="text-4xl">${rec.icon}</div>
                                    <div>
                                        <h3 class="text-xl font-bold text-gray-800">${rec.name}</h3>
                                        <p class="text-gray-600 mt-1">${rec.description}</p>
                                        <div class="mt-3 bg-amber-50 p-2 rounded-md">
                                            <p class="text-sm font-semibold text-amber-800">ãŠã™ã™ã‚ã®ç†ç”±:</p>
                                            <p class="text-sm text-amber-700">é¸æŠã—ãŸ <span class="font-bold">${matchedGenreNames.join('ã€')}</span> ã¨ã®ç›¸æ€§ãŒæŠœç¾¤ã§ã™ã€‚</p>
                                        </div>
                                    </div>
                                </div>
                            `;
                            recommendationArea.appendChild(card);
                        });
                    } else {
                        recommendationArea.innerHTML = `<p class="text-gray-500 text-center">é¸æŠã—ãŸã‚¸ãƒ£ãƒ³ãƒ«ã«åˆã†ãŠã™ã™ã‚ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚åˆ¥ã®ã‚¸ãƒ£ãƒ³ãƒ«ã‚’è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>`;
                    }
                    recommendationArea.style.opacity = '1';
                }, 300);
            }

            initializeUI();
        });
    </script>
</body>
</html>
